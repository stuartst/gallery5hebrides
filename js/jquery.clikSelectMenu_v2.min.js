(function(a){a.fn.clikSelectMenu=function(c){return this.each(function(){var b=a(this),e={options:a.extend({},{width:"auto",height:"auto",minWidth:0,minHeight:0,maxWidth:9999,maxHeight:350,menu_align:"left",submenuPosition:"outside",formatLabel:function(a){return'\x3cspan class\x3d"item-label"\x3e'+a.replace(/\|\|/g,"\x3cbr\x3e")+"\x3c/span\x3e"},itemHeadSelector:".item-label",submenuIndicator:{src:!1,image:!1,servers_id:!1},iconMode:"submenuIndicator",itemIcons:[],itemIconPosClasses:""},c)},f=function(b,
c,g){var n=function(a){return!isNaN(parseInt(a))&&isFinite(a)},u=function(a,b){var c={useIcon:!1};switch(e.options.iconMode){case "index":b.optionIndex in e.options.itemIcons&&""!=e.options.itemIcons[b.optionIndex]&&(c=e.options.itemIcons[b.optionIndex],c.useIcon=!0);break;case "inline":void 0!==a.attr("data-icon-src")&&(c={src:a.attr("data-icon-src"),width:a.attr("data-icon-width"),height:a.attr("data-icon-height"),useIcon:!0});break;case "value":b.optionVal in e.options.itemIcons&&(c=e.options.itemIcons[b.optionVal],
c.useIcon=!0);break;case "submenuIndicator":b.hasSub&&e.options.submenuIndicator.src&&(c.src=e.options.submenuIndicator.image,c.width=e.options.submenuIndicator.width,c.height=e.options.submenuIndicator.height,c.useIcon=!0)}return c},w=function(b){var f,g="";f='\x3cli class\x3d"cSelectLi '+(b.hasSub?"hasSub":"noSub")+" "+(b.hasVal?"hasVal":"noVal")+'" id\x3d"'+e.cSelectId+"_li_"+b.optionIndex+'"\x3e';f+='\x3ca href\x3d"#" id\x3d"'+e.cSelectId+"_a_"+b.optionIndex+'"\x3e';f+=b.optionLabel;b.icon.useIcon&&
(f+='\x3cspan class\x3d"item-icon '+e.options.itemIconPosClasses+'"\x3e\x3cimg alt\x3d"" src\x3d"'+b.icon.src+'" ',b.icon.width&&(g+="width: "+b.icon.width+"px; "),b.icon.height&&(g+="height: "+b.icon.height+"px; "),""!=g&&(f+='style\x3d"'+g+'" '),f+="/\x3e\x3c/span\x3e");return a(f+"\x3c/a\x3e\x3c/li\x3e").data("value",b.optionVal).appendTo(c)},A=function(b,g,k){var n=a('\x3cul class\x3d"cSelect cSelectSubUl cSelect-position-'+e.options.submenuPosition+'" id\x3d"'+e.cSelectId+"_SubUl_"+b.optionIndex+
'" /\x3e').data("listItem",g).appendTo("inside"==e.options.submenuPosition?g:c.parent());g.data("subUl",n);return f(k.children(b.subSelector),n,b.optionIndex)};if(e.isSelect)b.children().each(function(){var b=a(this),c=b,f={},k=a(),p=b.is("option")?"option":"optgroup";f.subSelector="option";switch(p){case "option":f.optionVal=b.attr("value");f.optionIndex=this.index;f.optionLabel=e.options.formatLabel(b.text());break;case "optgroup":b.hasClass("hasValue")?(c=b.find("option:first"),f.optionVal=c.attr("value"),
f.optionIndex=c.get(0).index,f.optionLabel=e.options.formatLabel(c.text())):(f.optionLabel=e.options.formatLabel(b.attr("label")),f.optionIndex=b.attr("label").replace(/[^A-Za-z0-9]/g,""),f.optionVal="")}f.icon=u(c,f);if(void 0===g||g!=z||b.hasClass("menuTitle"))f.hasSub="optgroup"==p&&(n(z)&&1<b.children().length||!n(z)),f.hasVal=n(f.optionIndex),k=w(f);f.hasSub&&A(f,k,b)});else{var z=g||0;b.children().each(function(){z++;var b=a(this),c=b.hasClass("menuTitle")?b:b.find("a").eq(0),c={optionVal:c.attr("href"),
optionLabel:e.options.formatLabel(c.text()),subSelector:"ul,.submenu",optionIndex:z,hasVal:!0},f=a();c.hasSub=b.children("ul,.submenu").length;c.icon=u(b,c);b.hasClass("menuTitle")||(f=w(c));c.hasSub&&(z=A(c,f,b))})}return z},g=function(){var b=""!=e.options.width&&"auto"!=e.options.width,c=""!=e.options.height&&"auto"!=e.options.height,f=e.holder.find("ul.cSelectSubUl"),g=e.button.find("span.label"),n=e.holder.css("white-space"),w=function(){var b;if(a.browser.msie){var c=a('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",
top:-1E3,left:-1E3}).appendTo("body"),e=a('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:-1E3}).appendTo("body");b=c.width()-e.width();c.add(e).remove()}else c=a("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:-1E3}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),b=100-c.width(),c.parent().remove();return b}(),A=function(f,g){var n=f.height(),
q,r=!1,u;c?(u=e.options.height,r=u<n):n<e.options.minHeight?u=e.options.minHeight:n>e.options.maxHeight?(u=e.options.maxHeight,r=!0):u="auto";f.height(u);q=f.width();a.browser.msie&&7==a.browser.version&&f.children("li").each(function(){q=Math.max(a(this).outerWidth(!0),q)});n=b?isNaN(e.options.width)?e.button.closest(".contentcolumn,.inner").innerWidth()-f.outerWidth()+f.width():e.options.width:q<g?g:q>e.options.maxWidth?e.options.maxWidth:q+(r?w:0);f.width(n)};e.menuTitleInside||e.menuTitle.css("float",
"none");e.holder.show().css("white-space","nowrap");A(e.list,Math.max(e.button.width(),e.options.minWidth));e.holder.width(e.list.width());e.button.width(e.list.width()).height(g.outerHeight());"inside"!=e.options.submenuPosition&&f.length&&(f.each(function(){var b=a(this),c=b.data("listItem").closest("ul");A(b,e.options.minWidth);switch(e.options.submenuPosition){case "outside-right":left=c.outerWidth()+c.position().left-Math.min(parseInt(b.css("borderLeftWidth"),10)||0,parseInt(c.css("borderRightWidth"),
10)||0);break;case "outside-left":left=c.position().left-b.outerWidth()+Math.min(parseInt(b.css("borderRightWidth"),10)||0,parseInt(c.css("borderLeftWidth"),10)||0)}b.css("left",left);e.button.width(function(a,c){var f=b.width();c<f&&e.list.width(f);return c<f?f:c})}),f=f.eq(1),e["subUlCf-above"]=parseInt(f.css("border-top-width"),10)||0,e["subUlCf-below"]=parseInt(f.css("border-bottom-width"),10)||0);e.button.addClass("position-"+(!e.menuTitleInside&&e.menuTitle.length?"inline":"static")+" valign-middle ownWidth-"+
e.button.width()+" halign-"+e.options.menu_align);e["cf-below"]=Math.min(parseInt(e.button.css("borderBottomWidth"),10)||0,parseInt(e.list.css("borderTopWidth"),10)||0);e["cf-above"]=Math.min(parseInt(e.button.css("borderTopWidth"),10)||0,parseInt(e.list.css("borderBottomWidth"),10)||0);e.holder.css("white-space",n);e.menuTitle.length&&!e.menuTitleInside&&(e.menuTitle.addClass("position-inline valign-middle ownWidth-"+e.menuTitle.width()+" halign-"+e.options.menu_align),a("body").clikDspInline(!0))};
if("destroy"===c)return b=a(this),(e=b.data("cSelect")||!1)?(e.container.remove(),e.button.remove(),b.show().removeData("cSelect").unbind(".cSelect").removeClass("hascSelect cSelectOpen"),a(".hascSelect").length||(a(window).unbind(".cSelect"),a(document).unbind(".cSelect")),!e.menuTitleInside&&e.menuTitle.length&&e.menuTitle.css(e.menuTitleStyle),clik.doColumnResize(),e.options):!1;if("reposition"===c){b=a(this);if(e=b.data("cSelect")||!1)e.holder.css({width:"",height:""}),e.button.css({width:"",
height:""}),g();return a(this)}if("outside"==e.options.submenuPosition)switch(e.options.menu_align){case "right":e.options.submenuPosition="outside-left";break;default:e.options.submenuPosition="outside-right"}(function(){e._positionList=function(b){b.each(function(){var b=a(this),c,e=b.outerHeight(),f=b.hasClass("cSelectUl"),g=b.closest(".cSelect.holder").data("oSelect").data("cSelect"),k=f?g.button:b.data("listItem"),n=k.outerHeight();c=k.offset();k=c.top-a(window).scrollTop();k=a(window).height()-
k-n<e&&k>e?"above":"below";newCss={top:c.top};f?(newCss.left=c.left,g.container.hasClass("position-fixed")&&(newCss.top-=a(window).scrollTop(),newCss.left-=a(window).scrollLeft()),c=g["cf-"+k],b=g.holder):(newCss.top-=g.list.offset().top,c=g["subUlCf-"+k]);switch(k){case "below":newCss.top-=c;f&&(newCss.top+=n);break;case "above":newCss.top-=e-c,f||(newCss.top+=n)}b.css(newCss)})};e._getParentUls=function(b,c){$retVal=c||a();if(b.hasClass("cSelectSubUl")){var f=b.data("listItem").closest("ul");f.hasClass("cSelectSubUl")&&
e._getParentUls(f,$retVal.add(f))}return $retVal};e._selectedOptionLi=function(){return this.holder.find("li.item-selected")};e._focusedOptionLi=function(){return this.holder.find("li.item-hovered")};e._getCurrentSelection=function(a){var b={focused:e._focusedOptionLi(),selected:e._selectedOptionLi()};b.options=b.focused.length?"inside"==e.options.submenuPosition||a?e.holder.find("li.hasVal:not(.disabled)"):b.focused.closest("ul").find("li.hasVal:not(.disabled)"):a?e.holder.find("li.hasVal:not(.disabled)"):
e.list.find("li.hasVal:not(.disabled)");b.focusedIndex=b.options.index(b.focused);b.selectedIndex=b.options.index(b.selected);return b};e._getLiLabel=function(a){switch(e.options.itemHeadSelector){case "":a=a.find("a").html().split("\x3cbr\x3e")[0];break;default:a=a.find("a\x3e"+e.options.itemHeadSelector).length?a.find("a\x3e"+e.options.itemHeadSelector).html():a.find("a").html()}return a};e._disableOption=function(a,c){"string"===typeof a?a=b.find("option[value\x3d'"+a+"']"):"number"===typeof a&&
(a=b.find("option").eq(a));if("object"===typeof a&&1==a.length){var f=a.get(0).index,f=b.attr("id")+"_cSelect_li_"+f;this.holder.find("#"+f).addClass("disabled");c||(e.collection=e._getCurrentSelection(),a.attr("disabled","disabled"))}};e._enableOption=function(a,c){"string"===typeof a?a=b.find("option[value\x3d'"+a+"']"):"number"===typeof a&&(a=b.find("option").eq(a));if("object"===typeof a&&1==a.length){var f=a.get(0).index,f=b.attr("id")+"_cSelect_li_"+f;this.holder.find("#"+f).removeClass("disabled");
c||(e.collection=e._getCurrentSelection(),a.removeAttr("disabled"))}};e._scrollIntoView=function(a){var b=a.closest("ul"),c=b.hasClass("cSelectSubUl"),f=e._getTop(a,"inside"==e.options.submenuPosition),g=a.find("a").outerHeight(),n,A,z=!1;c&&"inside"==e.options.submenuPosition&&(b=e.list);n=b.height();A=b.scrollTop();0>f?z=f+A-0.001:f+g>n&&(z=f+g+A-n);z&&b.scrollTop(z);c&&"inside"!=e.options.submenuPosition&&e._scrollIntoView(a.closest("ul").data("listItem"))};e._scrollToCurrent=function(){this._focusedOptionLi().length?
this._scrollIntoView(this._focusedOptionLi()):this._selectedOptionLi().length&&this._scrollIntoView(this._selectedOptionLi())};e._focus=function(a,b){a.is("a")&&(a=a.closest("li"));e.holder.find("li").removeClass("item-hovered");a.hasClass("hasVal")&&a.addClass("item-hovered");!b&&a.hasClass("hasSub")&&"inside"!=e.options.submenuPosition&&(clearTimeout(e.timeouts[a.attr("id")]),a.data("subUl").trigger("show.cSelect"))};e._unfocus=function(a,b){a.is("a")&&(a=a.closest("li"));!b&&a.hasClass("hasSub")&&
"inside"!=e.options.submenuPosition&&(e.timeouts[a.attr("id")]=setTimeout(function(){a.data("subUl").trigger("hide.cSelect")},500))};e._select=function(a){a.length&&(e.currentVal=a.data("value"),e.holder.trigger("close.cSelect",[!0]),e.currentVal!=e.origValue?b.trigger("change"):e.holder.trigger("updateSelected.cSelect",[a]))};e._getTop=function(a,b){var c=a.position().top,f;return b&&(f=a.closest("ul")).hasClass("cSelectSubUl")?c+e._getTop(f.data("listItem"),!0):c};e._disableHover=function(){e.holder.data("dontHover",
!0);clearTimeout(e.timeouts.dontHover);old="";e.timeouts.dontHover=setTimeout(function(){e.holder.unbind("mousemove.cSelect").bind("mousemove.cSelect",function(b){if("object"!=typeof old&&old.x!=b.pageX&&old.y!=b.pageY){e.holder.unbind("mousemove.cSelect");e.holder.data("dontHover",!1);var c="#"+a(b.target).attr("id");"#"!=c&&0!=e.holder.find(c)&&(e._unfocus(e._focusedOptionLi()),e._focus(a(b.target)))}old={x:b.pageX,y:b.pageY}})},100)};e.isSelect=b.is("select");e.parentCS=b.closest(".contentsection").has(".contentInner").length?
b.closest(".contentInner"):b.closest(".contentsection");e.timeouts={};e.oId=b.attr("id");e.cSelectId="cSelect_"+(""==e.oId?(new Date).getTime():e.oId);e.containerId="cSelect_"+b.closest(".contentsection").attr("id")+"_container";e.menuTitleInside=b.find("option,li").eq(0).hasClass("menuTitle");e.menuTitle=e.menuTitleInside?b.children(".menuTitle").eq(0):b.siblings(".menuTitle");e.menuTitleInside&&(e.menuTitleStyle={position:e.menuTitle.css("position"),left:e.menuTitle.css("left"),top:e.menuTitle.css("top"),
"float":e.menuTitle.css("float"),marginLeft:e.menuTitle.css("marginLeft"),marginTop:e.menuTitle.css("marginTop")})})();b.addClass("hascSelect");e.container=a("#"+e.containerId);e.container.length||(e.container=a('\x3cdiv id\x3d"'+e.containerId+'" /\x3e').addClass(b.closest(".contentsection").attr("class").replace(/(position|halign|valign)-\w*/g,"")).addClass("cSelect_container").addClass("contentsection_clone").data("oSelect",b).css({top:0,left:0,height:0,margin:0,overflow:"visible"}));e.holder=a('\x3cdiv id\x3d"'+
e.cSelectId+'_holder"/\x3e').hide().addClass("cSelect holder").data("oSelect",b);e.list=a('\x3cul id\x3d"'+e.cSelectId+'_list" class\x3d"cSelectUl" role\x3d"listbox"/\x3e').appendTo(e.holder);f(b,e.list);e.button=a('\x3ca href\x3d"#" class\x3d"cSelect-button" id\x3d"'+e.cSelectId+'_button" tabindex\x3d"'+(b.attr("disabled")?1:0)+'"\x3e\x3cspan class\x3d"label"\x3e\x26nbsp;\x3c/span\x3e\x3cspan class\x3d"icon"\x3e\x3c/span\x3e\x3c/a\x3e').css({display:"inline-block",position:b.css("position")});var n=
b.attr("tabindex");n&&e.button.attr("tabindex",n);(function(){var c=function(b){b=a.extend({},{moveTo:0,relative:!0,toggleSubMenus:!1,cycle:!0,updateLabel:!0},b);var c=e.button.hasClass("UlOpen")&&0!=e.collection.focused.length?"focused":"selected",f=e.collection[c],c=b.relative?e.collection[c+"Index"]+b.moveTo:b.moveTo;c>=e.collection.options.length?c=b.cycle?0:e.collection.options.length-1:0>c&&(c=b.cycle?e.collection.options.length-1:0);"inside"==e.options.submenuPosition&&(b.toggleSubMenus=!1);
b.toggleSubMenus&&f.hasClass("hasSub")&&f.data("subUl").trigger("hide.cSelect");f=e.collection.options.removeClass("item-hovered").eq(c).addClass("item-hovered");e.currentVal=f.data("value");b.updateLabel&&e.holder.trigger("updateSelected.cSelect",[f]);b.toggleSubMenus&&f.hasClass("hasSub")&&f.data("subUl").trigger("show.cSelect");e._scrollToCurrent()},f=function(a,b){var f=e.collection.options,g=String.fromCharCode(a).toLowerCase(),n=null,p=null;e._typeAhead_timer&&(window.clearTimeout(e._typeAhead_timer),
e._typeAhead_timer=void 0);e._typeAhead_chars=(void 0===e._typeAhead_chars?"":e._typeAhead_chars).concat(g);2>e._typeAhead_chars.length||e._typeAhead_chars.substr(-2,1)===g&&e._typeAhead_cycling?(e._typeAhead_cycling=!0,n=g):(e._typeAhead_cycling=!1,n=e._typeAhead_chars);for(var g=e.collection.focusedIndex,G=0;G<f.length;G++)if(f.eq(G).text().substr(0,n.length).toLowerCase()===n)if(e._typeAhead_cycling){if(null===p&&(p=G),G>g){p=G;break}}else p=G;null!==p&&c({moveTo:p,relative:!1});e._typeAhead_timer=
window.setTimeout(function(){e._typeAhead_timer=void 0;e._typeAhead_chars=void 0;e._typeAhead_cycling=void 0},500)};b.unbind("change.cSelect").bind("change.cSelect",function(a){e.isSelect&&(e.currentVal=b.val());e.origValue=e.currentVal;e.holder.trigger("updateSelected.cSelect");e.isSelect||(window.location=e.currentVal)});e.holder.bind("updateSelected.cSelect",function(c,f){var g=e.button.find(".label"),k=e.holder.find("li");e.isSelect&&b.val(e.currentVal);e.currentLabel="";k.removeClass("item-selected");
f?e.currentLabel=e._getLiLabel(f.addClass("item-selected")):k.each(function(){a(this).data("value")!=e.currentVal||a(this).hasClass("disabled")||(e.currentLabel=e._getLiLabel(a(this).addClass("item-selected")))});""==e.currentLabel&&e.menuTitleInside&&(e.currentLabel=e.menuTitle.text());e.collection=e._getCurrentSelection();g.html(e.currentLabel).css("marginTop",(e.button.height()-g.outerHeight())/2)}).bind("open.cSelect",function(f,g){e._disableHover();e.list.show().addClass("open").clikAlign(!1,
!0);e._positionList(e.list);e.button.addClass("UlOpen");b.addClass("cSelectOpen");a(this).addClass("open");e.collection.selected.length&&(e.collection.selected.closest("ul").hasClass("cSelectSubUl")&&(e.collection.selected.closest("ul").trigger("show.cSelect"),e.collection=e._getCurrentSelection(!0)),c({toggleSubMenus:!0,updateLabel:!1}),e.collection=e._getCurrentSelection(!0),e.collection.focused.closest("ul").hasClass("cSelectSubUl")&&"inside"!=e.options.submenuPosition&&e.collection.focused.closest("ul").trigger("show.cSelect"),
setTimeout(function(){e._scrollToCurrent()},50))}).bind("close.cSelect",function(c,f){e.list.hide().removeClass("open");e._focusedOptionLi().removeClass("item-hovered");"inside"!=e.options.submenuPosition&&a(this).find("ul.cSelectSubUl").trigger("hide.cSelect",[!0]);e.button.removeClass("UlOpen");b.removeClass("cSelectOpen");a(this).removeClass("open");e.list.find("li.hasSub").removeClass("UlOpen");f&&e.button.focus()}).bind("position.cSelect",function(a){e._positionList(e.list)}).delegate("a","focus.cSelect",
function(a){clearTimeout(e.timeouts.blur)}).delegate("li:not(.disabled)\x3ea","mouseenter.cSelect",function(b){e.holder.data("dontHover")||e._focus(a(this))}).delegate("li:not(.disabled)\x3ea","mouseleave.cSelect",function(b){e.holder.data("dontHover")||e._unfocus(a(this))}).delegate("li.hasVal:not(.disabled)\x3ea","click.cSelect",function(c){c=a(this).closest("li");var f=c.data("value");e.isSelect&&b.find("option[value\x3d"+f+"]").trigger("click");e._select(c);return!1}).delegate("li.disabled\x3ea,li.noVal\x3ea",
"click.cSelect",function(a){return!1});e.holder.find("ul").bind("scroll.cSelect",function(b){e._disableHover();"inside"!=e.options.submenuPosition&&0<e.holder.find("ul.cSelectSubUl.open").length&&e._positionList(e.holder.find("ul.cSelectSubUl.open").not(a(this)))}).bind("show.cSelect",function(b){if("inside"===e.options.submenuPosition)return!0;a(this).hasClass("cSelectSubUl")?(b=a(this).data("listItem"),b.data("hover")||(b.closest("ul").hasClass("open")||b.closest("ul").trigger("show.cSelect"),b.addClass("UlOpen"),
a(this).show().addClass("open").clikAlign(!1,!0),e._positionList(a(this)),b=e.holder.find("ul.cSelectSubUl").filter(":not(#"+a(this).attr("id")+")").not(e._getParentUls(a(this))),b.length&&(b.data("listItem").data("hover",!1),b.trigger("hide.cSelect")))):e.holder.trigger("open.cSelect")}).bind("hide.cSelect",function(b,c){if(a(this).hasClass("cSelectSubUl")){if("inside"===e.options.submenuPosition)return!0;var f=a(this).data("listItem");c&&f.data("hover",!1);f.data("hover")||(f.removeClass("UlOpen"),
a(this).hide().removeClass("open"),a(this).find("#"+e._focusedOptionLi().attr("id")).length&&e._focus(f,!0))}else e.holder.trigger("close.cSelect",[!0])});"inside"!=e.options.submenuPosition&&e.holder.find("ul.cSelectSubUl").unbind("mouseenter.cSelect,mouseleave.cSelect").bind("mouseenter.cSelect mouseleave.cSelect",clik.getDelayHoverFn({over:function(){a(this).data("listItem").data("hover",!0);e._getParentUls(a(this)).each(function(){a(this).find("li.UlOpen").data("hover",!0)})},out:function(b,c){a(this).find("li.UlOpen").length||
(a(this).data("listItem").data("hover",!1),a(this).data("listItem").data("hover")||a(this).data("listItem").is(":hover")||!a(this).closest("ul").hasClass("cSelectSubUl")||a(this).trigger("hide.cSelect"))},delayOut:500}));e.button.bind("click.cSelect",function(b,c){a(this).hasClass("UlOpen")?e.holder.trigger("close.cSelect",[c]):(a(".cSelect ul.open").trigger("hide.cSelect",!1),e.holder.trigger("open.cSelect",[c]));e.button.focus();return!1}).bind("blur.cSelect",function(a){e.currentVal!=e.origValue&&
(e.timeouts.blur=setTimeout(function(){b.trigger("change")},100))}).bind("position.cSelect",function(a){e._positionList(e.list)}).bind("keydown.cSelect",function(b){var f=a(b.target),g=f.hasClass("cSelect-button")?"button":1==e.holder.find(f).length?"option":!1;b=b.which||b.keyCode;var n=e.button.hasClass("UlOpen")?!0:!1,p=function(){e.collection.focused.removeClass("item-hovered");e.collection.focused.data("subUl").trigger("show.cSelect");e.collection.focused.data("subUl").find("li:first").addClass("item-hovered");
e.currentVal=e._focusedOptionLi().data("value");e.holder.trigger("updateSelected.cSelect",[e._focusedOptionLi()])},z=function(){C.trigger("hide.cSelect",!0);e.collection.focused.removeClass("item-hovered");setTimeout(function(){C.data("listItem").addClass("item-hovered");e.currentVal=e._focusedOptionLi().data("value");e.holder.trigger("updateSelected.cSelect",[e._focusedOptionLi()])},50)},G=function(b){var f=(e.collection.focused.length?e.collection.focused:e.collection.selected).closest("ul"),g,
q;f.hasClass("cSelectSubUl")&&"inside"==e.options.submenuPosition&&(f=e.list);var p=f.height();f.scrollTop("up"==b?f.scrollTop()-p:f.scrollTop()+p);var r=f.offset(),u=r.top+p;e.collection.options.each(function(){var b=a(this),c=b.offset();!g&&c.top>=r.top&&r.top+b.height()<=u&&(g=b);c.top<u&&(q=b)});p=e.collection.options.index("up"==b?g:q);0==f.scrollTop()&&(p=0);f.scrollTop()+f.innerHeight()>=f.get(0).scrollHeight&&"down"==b&&(p=e.collection.options.length-1);c({moveTo:p,relative:!1,toggleSubMenus:n})};
if(!g)return!0;e.collection=e._getCurrentSelection(!n);switch(b){case 13:!n&&e.isSelect||e._select(e.collection.focused);break;case 9:return n&&e._select(e.collection.focused),!0;case 32:n?e._select(e.collection.focused):f.trigger("click.cSelect",[!0]);break;case 27:e.holder.trigger("close.cSelect",[n]);break;case 38:c({moveTo:-1,toggleSubMenus:n});break;case 40:c({moveTo:1,toggleSubMenus:n});break;case 33:n&&G("up");break;case 34:n&&G("down");break;case 37:if(n){switch(e.options.submenuPosition){case "outside-right":var C=
e.collection.focused.closest("ul");C.data("listItem")&&C.data("listItem").hasClass("hasSub")&&z();break;case "outside-left":e.collection.focused.hasClass("hasSub")&&p()}e._scrollToCurrent()}else c({moveTo:-1});break;case 39:if(n){switch(e.options.submenuPosition){case "outside-right":e.collection.focused.hasClass("hasSub")&&p();break;case "outside-left":C=e.collection.focused.closest("ul"),C.data("listItem")&&C.data("listItem").hasClass("hasSub")&&z()}e._scrollToCurrent()}else c({moveTo:1});break;
case 36:c({moveTo:0,relative:!1,dontToggleSub:n});break;case 35:c({moveTo:e.collection.options.length-1,relative:!1,dontToggleSub:n});break;default:return!0}return!1}).bind("keypress.cSelect",function(b){var c=a(b.target),c=c.hasClass("cSelect-button")?"button":1==e.holder.find(c).length?"option":!1,g=b.which,k=e.button.hasClass("UlOpen");if(!c)return!0;0<g&&(e.collection=e._getCurrentSelection(!k),f(b.which,a(this)),k&&e._focusedOptionLi().hasClass("hasSub")&&e._focusedOptionLi().data("subUl").trigger("show.cSelect"))});
a(document).unbind("click.cSelect").bind("click.cSelect",function(){a("div.cSelect.holder.open").trigger("close.cSelect",[!0])});a(window).unbind("resize.cSelect").bind("resize.cSelect",function(b){e._positionList(a("div.cSelect .cSelectUl.open"))})})();b.find("option:disabled").each(function(){e._disableOption(a(this),!0)});(function(){var c,f=a();if(e.isSelect)e.origValue=b.val();else{var g=clik.getSACname();null!==g.contentName&&(f=b.find("a."+g.sectionName[0]+"."+g.actionName[0]+"."+g.contentName[0]));
f.length||(f=b.find("a.action_index."+g.sectionName[0]));e.origValue=f.attr("href")}e.currentVal=e.origValue;e.holder.trigger("updateSelected.cSelect");e.menuTitleInside?c=e.menuTitle.text():void 0===e.origValue&&(c=e.list.find("li").eq(0).text());c&&e.button.find("span.label").text(c).css("marginTop",(e.button.height()-e.button.find("span.label").outerHeight())/2)})();b.hide();e.container.append(e.holder).appendTo("body");e.button.insertBefore(b);g();e.holder.trigger("close.cSelect");b.closest(".position-fixed").length&&
e.container.css("position","fixed").addClass("position-fixed");b.data("cSelect",e);clik.doColumnResize()})}})(jQuery);
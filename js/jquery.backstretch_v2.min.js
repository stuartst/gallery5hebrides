(function(a,c,b){a.fn.backstretch=function(e,f){e!==b&&0!==e.length||a.error("No images were supplied for Backstretch");0===a(c).scrollTop()&&c.scrollTo(0,0);return this.each(function(){var b=a(this),c=b.data("backstretch");c&&(f=a.extend(c.options,f),c.destroy(!0));c=new g(this,e,f);b.data("backstretch",c)})};a.backstretch=function(b,e){return a("body").backstretch(b,e).data("backstretch")};a.expr[":"].backstretch=function(e){return a(e).data("backstretch")!==b};a.fn.backstretch.defaults={centeredX:!0,
centeredY:!0,fullX:!1,fullY:!1,duration:5E3,fade:0,fit:0,opacity:1};var e={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},f={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999},g=function(b,f,g){this.options=a.extend({},a.fn.backstretch.defaults,g||{});this.images=a.isArray(f)?f:[f];a.each(this.images,function(){a("\x3cimg /\x3e")[0].src=this});this.isBody=b===document.body;this.$container=
a(b);this.$wrap=a('\x3cdiv class\x3d"backstretch"\x3e\x3c/div\x3e').css(e).appendTo(this.$container);this.$root=this.isBody?n?a(c):a(document):this.$container;this.isBody||(b=this.$container.css("position"),f=this.$container.css("zIndex"),this.$container.css({position:"static"===b?"relative":b,zIndex:"auto"===f?0:f,background:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&n?"fixed":"absolute"});this.index=0;this.show(this.index);a(c).bind("resize.backstretch",a.proxy(this.resize,
this)).bind("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===c.pageYOffset&&(c.scrollTo(0,1),this.resize())},this))};g.prototype={resize:function(){try{var a={left:0,top:0,bottom:"auto",right:"auto"},b=this.isBody?this.$root.width():this.$root.innerWidth(),e=b,f=this.isBody?c.innerHeight?c.innerHeight:this.$root.height():this.$root.innerHeight(),g=e/this.$img.data("ratio"),n;g>=f!=this.options.fit?(n=(g-f)/2,this.options.centeredY?a.top=-n+"px":this.options.fullY&&(a.top="auto",
a.bottom=0)):(g=f,e=g*this.$img.data("ratio"),n=(e-b)/2,this.options.centeredX?a.left=-n+"px":this.options.fullX&&(a.left="auto",a.right=0));this.$wrap.css({width:b,height:f}).find("img:not(.deleteable)").css({width:e,height:g}).css(a)}catch(A){}return this},show:function(b){if(!(Math.abs(b)>this.images.length-1)){this.index=b;var e=this,c=e.$wrap.find("img").addClass("deleteable"),g=a.Event("backstretch.show",{relatedTarget:e.$container[0]});clearInterval(e.interval);e.$img=a("\x3cimg /\x3e").css(f).bind("load",
function(b){var f=this.width||a(b.target).width();b=this.height||a(b.target).height();a(this).data("ratio",f/b);a(this).fadeTo(e.options.speed||e.options.fade,e.options.opacity,function(){c.remove();e.paused||e.cycle();e.$container.trigger(g,e)});e.resize()}).appendTo(e.$wrap);e.$img.attr("src",e.images[b]);return e}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){this.paused=
!0;return this},resume:function(){this.paused=!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(b){a(c).unbind("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);b||this.$wrap.remove();this.$container.removeData("backstretch")}};var n=function(){var a=navigator.userAgent,b=navigator.platform,
e=a.match(/AppleWebKit\/([0-9]+)/),e=!!e&&e[1],f=a.match(/Fennec\/([0-9]+)/),f=!!f&&f[1],g=a.match(/Opera Mobi\/([0-9]+)/),n=!!g&&g[1],A=a.match(/MSIE ([0-9]+)/),A=!!A&&A[1];return!((-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")||-1<b.indexOf("iPod"))&&e&&534>e||c.operamini&&"[object OperaMini]"==={}.toString.call(c.operamini)||g&&7458>n||-1<a.indexOf("Android")&&e&&533>e||f&&6>f||"palmGetResource"in c&&e&&534>e||-1<a.indexOf("MeeGo")&&-1<a.indexOf("NokiaBrowser/8.5.0")||A&&6>=A)}()})(jQuery,window);
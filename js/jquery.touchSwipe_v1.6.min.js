(function(a){"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)})(function(a){function c(c){!c||void 0!==c.allowPageScroll||void 0===c.swipe&&void 0===c.swipeStatus||(c.allowPageScroll=q);void 0!==c.click&&void 0===c.tap&&(c.tap=c.click);c||(c={});c=a.extend({},a.fn.swipe.defaults,c);return this.each(function(){var e=a(this),f=e.data(P);f||(f=new b(this,c),e.data(P,f))})}function b(b,c){function V(b){if(!0!==na.data(P+"_intouch")&&!(0<a(b.target).closest(c.excludedElements,
na).length)){var k=b.originalEvent?b.originalEvent:b,p,q=I?k.touches[0]:k;Ia=D;I?Fa=k.touches.length:b.preventDefault();aa=0;ga=la=null;oa=ja=Aa=0;sa=1;qa=0;b=[];for(var w=0;5>=w;w++)b.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});fa=b;b={};b[e]=Da(e);b[f]=Da(f);b[g]=Da(g);b[n]=Da(n);Na=b;Ra=Sa=0;if(!I||Fa===c.fingers||c.fingers===B||pa()){if(Ha(0,q),Oa=Ca(),2==Fa&&(Ha(1,k.touches[1]),ja=oa=xa(fa[0].start,fa[1].start)),c.swipeStatus||c.pinchStatus)p=S(k,Ia)}else p=!1;if(!1===p)return Ia=J,S(k,
Ia),p;ia(!0);return null}}function Y(b){var w,u,z,A=b.originalEvent?b.originalEvent:b;if(Ia!==K&&Ia!==J&&!M()){var G,D=ha(I?A.touches[0]:A);La=Ca();I&&(Fa=A.touches.length);Ia=H;2==Fa&&(0==ja?(Ha(1,A.touches[1]),ja=oa=xa(fa[0].start,fa[1].start)):(ha(A.touches[1]),oa=xa(fa[0].end,fa[1].end),ga=1>sa?p:k),sa=(oa/ja*1).toFixed(2),qa=Math.abs(ja-oa));if(Fa===c.fingers||c.fingers===B||!I||pa()){w=D.start;u=D.end;w=Math.atan2(u.y-w.y,w.x-u.x);w=Math.round(180*w/Math.PI);0>w&&(w=360-Math.abs(w));w=la=45>=
w&&0<=w?e:360>=w&&315<=w?e:135<=w&&225>=w?f:45<w&&135>w?n:g;if(c.allowPageScroll===q||pa())b.preventDefault();else switch(u=c.allowPageScroll===r,w){case e:(c.swipeLeft&&u||!u&&c.allowPageScroll!=C)&&b.preventDefault();break;case f:(c.swipeRight&&u||!u&&c.allowPageScroll!=C)&&b.preventDefault();break;case g:(c.swipeUp&&u||!u&&c.allowPageScroll!=E)&&b.preventDefault();break;case n:(c.swipeDown&&u||!u&&c.allowPageScroll!=E)&&b.preventDefault()}b=D.start;w=D.end;aa=Math.round(Math.sqrt(Math.pow(w.x-
b.x,2)+Math.pow(w.y-b.y,2)));Aa=La-Oa;b=la;w=aa;w=Math.max(w,T(b));Na[b].distance=w;if(c.swipeStatus||c.pinchStatus)G=S(A,Ia);if(!c.triggerOnTouchEnd||c.triggerOnTouchLeave){b=!0;if(c.triggerOnTouchLeave){z=a(this);var F=z.offset();b=F.left;w=F.left+z.outerWidth();u=F.top;z=F.top+z.outerHeight();D=D.end;b=D.x>b&&D.x<w&&D.y>u&&D.y<z}!c.triggerOnTouchEnd&&b?Ia=Z(H):c.triggerOnTouchLeave&&!b&&(Ia=Z(K));Ia!=J&&Ia!=K||S(A,Ia)}}else Ia=J,S(A,Ia);!1===G&&(Ia=J,S(A,Ia))}}function ba(a){var b=a.originalEvent;
if(I&&0<b.touches.length)return Sa=Ca(),Ra=event.touches.length+1,!0;M()&&(Fa=Ra);a.preventDefault();La=Ca();Aa=La-Oa;Q()?(Ia=J,S(b,Ia)):c.triggerOnTouchEnd||!1==c.triggerOnTouchEnd&&Ia===H?(Ia=K,S(b,Ia)):!c.triggerOnTouchEnd&&c.tap?(Ia=K,ca(b,Ia,A)):Ia===H&&(Ia=J,S(b,Ia));ia(!1);return null}function W(){oa=ja=Oa=La=Fa=0;sa=1;Ra=Sa=0;ia(!1)}function X(a){a=a.originalEvent;c.triggerOnTouchLeave&&(Ia=Z(K),S(a,Ia))}function O(){na.unbind(Ea,V);na.unbind(ua,W);na.unbind(ya,Y);na.unbind(Ga,ba);va&&na.unbind(va,
X);ia(!1)}function Z(a){var b=a,e=c.maxTimeThreshold?Aa>=c.maxTimeThreshold?!1:!0:!0,f=N(),g=Q();!e||g?b=J:!f||a!=H||c.triggerOnTouchEnd&&!c.triggerOnTouchLeave?!f&&a==K&&c.triggerOnTouchLeave&&(b=J):b=K;return b}function S(a,b){var e=void 0;ea()&&ka()||ka()?e=ca(a,b,u):(ra()&&pa()||pa())&&!1!==e&&(e=ca(a,b,w));U()&&c.doubleTap&&!1!==e?e=ca(a,b,z):Aa>c.longTapThreshold&&aa<F&&c.longTap&&!1!==e?e=ca(a,b,G):!(1!==Fa&&I||!isNaN(aa)&&0!==aa)&&c.tap&&!1!==e&&(e=ca(a,b,A));b===J&&W(a);b===K&&(I?0==a.touches.length&&
W(a):W(a));return e}function ca(b,q,r){var C=void 0;if(r==u){na.trigger("swipeStatus",[q,la||null,aa||0,Aa||0,Fa]);if(c.swipeStatus&&(C=c.swipeStatus.call(na,b,q,la||null,aa||0,Aa||0,Fa),!1===C))return!1;if(q==K&&ea()){na.trigger("swipe",[la,aa,Aa,Fa]);if(c.swipe&&(C=c.swipe.call(na,b,la,aa,Aa,Fa),!1===C))return!1;switch(la){case e:na.trigger("swipeLeft",[la,aa,Aa,Fa]);c.swipeLeft&&(C=c.swipeLeft.call(na,b,la,aa,Aa,Fa));break;case f:na.trigger("swipeRight",[la,aa,Aa,Fa]);c.swipeRight&&(C=c.swipeRight.call(na,
b,la,aa,Aa,Fa));break;case g:na.trigger("swipeUp",[la,aa,Aa,Fa]);c.swipeUp&&(C=c.swipeUp.call(na,b,la,aa,Aa,Fa));break;case n:na.trigger("swipeDown",[la,aa,Aa,Fa]),c.swipeDown&&(C=c.swipeDown.call(na,b,la,aa,Aa,Fa))}}}if(r==w){na.trigger("pinchStatus",[q,ga||null,qa||0,Aa||0,Fa,sa]);if(c.pinchStatus&&(C=c.pinchStatus.call(na,b,q,ga||null,qa||0,Aa||0,Fa,sa),!1===C))return!1;if(q==K&&ra())switch(ga){case k:na.trigger("pinchIn",[ga||null,qa||0,Aa||0,Fa,sa]);c.pinchIn&&(C=c.pinchIn.call(na,b,ga||null,
qa||0,Aa||0,Fa,sa));break;case p:na.trigger("pinchOut",[ga||null,qa||0,Aa||0,Fa,sa]),c.pinchOut&&(C=c.pinchOut.call(na,b,ga||null,qa||0,Aa||0,Fa,sa))}}if(r==A){if(q===J||q===K)clearTimeout($a),c.doubleTap&&!U()?(Va=Ca(),$a=setTimeout(a.proxy(function(){Va=null;na.trigger("tap",[b.target]);c.tap&&(C=c.tap.call(na,b,b.target))},this),c.doubleTapThreshold)):(Va=null,na.trigger("tap",[b.target]),c.tap&&(C=c.tap.call(na,b,b.target)))}else if(r==z){if(q===J||q===K)clearTimeout($a),Va=null,na.trigger("doubletap",
[b.target]),c.doubleTap&&(C=c.doubleTap.call(na,b,b.target))}else r!=G||q!==J&&q!==K||(clearTimeout($a),Va=null,na.trigger("longtap",[b.target]),c.longTap&&(C=c.longTap.call(na,b,b.target)));return C}function N(){var a=!0;null!==c.threshold&&(a=aa>=c.threshold);return a}function Q(){var a=!1;null!==c.cancelThreshold&&null!==la&&(a=T(la)-aa>=c.cancelThreshold);return a}function ra(){var a=Fa===c.fingers||c.fingers===B||!I,b=0!==fa[0].end.x,e;e=null!==c.pinchThreshold?qa>=c.pinchThreshold:!0;return a&&
b&&e}function pa(){return!!(c.pinchStatus||c.pinchIn||c.pinchOut)}function ea(){var a=c.maxTimeThreshold?Aa>=c.maxTimeThreshold?!1:!0:!0,b=N(),e=Fa===c.fingers||c.fingers===B||!I,f=0!==fa[0].end.x;return!Q()&&f&&e&&b&&a}function ka(){return!!(c.swipe||c.swipeStatus||c.swipeLeft||c.swipeRight||c.swipeUp||c.swipeDown)}function U(){if(null==Va)return!1;var a=Ca();return!!c.doubleTap&&a-Va<=c.doubleTapThreshold}function M(){var a=!1;Sa&&Ca()-Sa<=c.fingerReleaseThreshold&&(a=!0);return a}function ia(a){!0===
a?(na.bind(ya,Y),na.bind(Ga,ba),va&&na.bind(va,X)):(na.unbind(ya,Y,!1),na.unbind(Ga,ba,!1),va&&na.unbind(va,X,!1));na.data(P+"_intouch",!0===a)}function Ha(a,b){fa[a].identifier=void 0!==b.identifier?b.identifier:0;fa[a].start.x=fa[a].end.x=b.pageX||b.clientX;fa[a].start.y=fa[a].end.y=b.pageY||b.clientY;return fa[a]}function ha(a){var b=void 0!==a.identifier?a.identifier:0;a:{for(var c=0;c<fa.length;c++)if(fa[c].identifier==b){b=fa[c];break a}b=void 0}b.end.x=a.pageX||a.clientX;b.end.y=a.pageY||a.clientY;
return b}function T(a){if(Na[a])return Na[a].distance}function Da(a){return{direction:a,distance:0}}function xa(a,b){var c=Math.abs(a.x-b.x),e=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+e*e))}function Ca(){return(new Date).getTime()}var da=I||!c.fallbackToMouseEvents,Ea=da?"touchstart":"mousedown",ya=da?"touchmove":"mousemove",Ga=da?"touchend":"mouseup",va=da?null:"mouseleave",ua="touchcancel",aa=0,la=null,Aa=0,ja=0,oa=0,sa=1,qa=0,ga=0,Na=null,na=a(b),Ia="start",Fa=0,fa=null,Oa=0,La=0,Sa=0,
Ra=0,Va=0,$a=null;try{na.bind(Ea,V),na.bind(ua,W)}catch(kb){a.error("events not supported "+Ea+","+ua+" on jQuery.swipe")}this.enable=function(){na.bind(Ea,V);na.bind(ua,W);return na};this.disable=function(){O();return na};this.destroy=function(){O();na.data(P,null);return na};this.option=function(b,e){if(void 0!==c[b]){if(void 0===e)return c[b];c[b]=e}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var e="left",f="right",g="up",n="down",k="in",p="out",q="none",r=
"auto",u="swipe",w="pinch",A="tap",z="doubletap",G="longtap",C="horizontal",E="vertical",B="all",F=10,D="start",H="move",K="end",J="cancel",I="ontouchstart"in window,P="TouchSwipe";a.fn.swipe=function(b){var e=a(this),f=e.data(P);if(f&&"string"===typeof b){if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!(f||"object"!==typeof b&&b))return c.apply(this,arguments);return e};a.fn.swipe.defaults={fingers:1,threshold:75,
cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe.phases={PHASE_START:D,
PHASE_MOVE:H,PHASE_END:K,PHASE_CANCEL:J};a.fn.swipe.directions={LEFT:e,RIGHT:f,UP:g,DOWN:n,IN:k,OUT:p};a.fn.swipe.pageScroll={NONE:q,HORIZONTAL:C,VERTICAL:E,AUTO:r};a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:B}});